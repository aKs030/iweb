<!-- Import Map for ES Modules - Centralized for all pages -->
<!-- Must be as early as possible in the head -->
<script type="importmap">
  {
    "imports": {
      "react": "https://esm.sh/react@19.2.4",
      "react-dom": "https://esm.sh/react-dom@19.2.4",
      "react-dom/client": "https://esm.sh/react-dom@19.2.4/client",
      "three": "https://cdn.jsdelivr.net/npm/three@0.183.1/build/three.module.min.js",
      "dompurify": "https://esm.sh/dompurify@3.3.1",
      "htm": "https://esm.sh/htm@3.1.1"
    },
    "scopes": {
      "https://esm.sh/": {
        "react": "https://esm.sh/react@19.2.4"
      }
    }
  }
</script>

<!-- Synchronous Scroll Lock & Reset (Must be as early as possible for Safari) -->
<script>
  if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
  window.scrollTo(0, 0);
</script>

<!-- Critical CSS - Loaded immediately to prevent FOUC -->
<link rel="stylesheet" href="/content/styles/root.css" />
<link rel="stylesheet" href="/content/styles/main.css" />
<link rel="stylesheet" href="/content/styles/animations.css" />
<link rel="stylesheet" href="/content/styles/loader.css" />

<!-- Meta Tags -->
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<meta name="format-detection" content="telephone=no,email=no" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=5"
/>
<meta name="mobile-web-app-capable" content="yes" />
<meta name="apple-touch-fullscreen" content="yes" />

<!-- Favicons -->
<link rel="icon" href="/favicon.ico" sizes="48x48" />
<link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml" />
<link
  rel="icon"
  type="image/webp"
  sizes="512x512"
  href="https://img.abdulkerimsesli.de/icons/favicon-512.webp?v=20260221"
/>
<link
  rel="apple-touch-icon"
  sizes="180x180"
  href="https://img.abdulkerimsesli.de/icons/apple-touch-icon.webp?v=20260221"
/>

<!-- Google Search Console - Favicon für Suchergebnisse -->
<link rel="shortcut icon" href="https://www.abdulkerimsesli.de/favicon.ico" />

<!-- PWA -->
<link rel="manifest" href="/manifest.json" />
<link
  rel="alternate"
  type="application/rss+xml"
  title="Abdulkerim Sesli — Blog"
  href="/api/feed.xml"
/>
<!-- Browser & PWA Integration -->
<!-- theme-color is managed dynamically by theme-color-manager.js -->
<meta
  name="apple-mobile-web-app-status-bar-style"
  content="black-translucent"
/>
<!-- Static fallback: fully transparent theme color for direct loads -->
<meta name="theme-color" id="meta-theme-color-fallback" content="#00000000" />

<!-- Sitemap -->
<link rel="sitemap" href="/sitemap.xml" type="application/xml" />
<link rel="alternate" type="text/plain" href="/llms.txt" title="LLM Index" />
<link
  rel="alternate"
  type="text/plain"
  href="/llms-full.txt"
  title="LLM Full Index"
/>

<!-- Preconnect to Critical Resources (with dns-prefetch fallback) -->
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
<link rel="preconnect" href="https://esm.sh" crossorigin />
<link rel="preconnect" href="https://img.abdulkerimsesli.de" crossorigin />
<link rel="preconnect" href="https://www.googletagmanager.com" crossorigin />
<link rel="preconnect" href="https://www.google-analytics.com" crossorigin />
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />
<link rel="dns-prefetch" href="https://esm.sh" />
<link rel="dns-prefetch" href="https://img.abdulkerimsesli.de" />
<link rel="dns-prefetch" href="https://www.googletagmanager.com" />
<link rel="dns-prefetch" href="https://www.google-analytics.com" />

<!-- Core Scripts -->
<script type="module" src="/content/components/head/head-inline.js"></script>
<script type="module">
  // Initialize theme color manager immediately for all pages
  import { initThemeColorManager } from '/content/core/theme-color-manager.js';
  initThemeColorManager();
</script>
<script type="module" src="/content/main.js"></script>

<!-- Insert a minimal status-bar bleed element immediately after body opens (for browsers that render head-inline JS before body) -->
<script>
  // Create a small script that will ensure a status-bar bleed exists at top of body
  (function () {
    function ensureStatusBarBleed() {
      if (document.getElementById('status-bar-bleed')) return;
      var div = document.createElement('div');
      div.id = 'status-bar-bleed';
      div.setAttribute('aria-hidden', 'true');
      document.body &&
        document.body.insertBefore(div, document.body.firstChild);
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', ensureStatusBarBleed);
    } else {
      ensureStatusBarBleed();
    }
  })();
</script>
