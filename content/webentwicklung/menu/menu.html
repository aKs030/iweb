<link rel="stylesheet" href="/content/webentwicklung/menu/menu.css" />

<!-- SVG Icon Sprite f√ºr Navigation -->
<svg
  aria-hidden="true"
  style="position: absolute; width: 0; height: 0; overflow: hidden"
  xmlns="http://www.w3.org/2000/svg"
>
  <defs>
    <symbol id="icon-house" viewBox="0 0 576 512">
      <path
        fill="currentColor"
        d="M541 229.16 512 205.26V64a32 32 0 0 0-32-32h-64a32 32 0 0 0-32 32v24.6L314.52 43a35.93 35.93 0 0 0-45 0L35 229.16a16 16 0 0 0-2 22.59l21.4 25.76a16 16 0 0 0 22.59 2L96 264.86V456a32 32 0 0 0 32 32h128V344a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v144h128a32 32 0 0 0 32-32V264.86l19 14.65a16 16 0 0 0 22.59-2l21.4-25.76a16 16 0 0 0-2-22.59Z"
      />
    </symbol>
    <symbol id="icon-images" viewBox="0 0 576 512">
      <path
        fill="currentColor"
        d="M480 416V80a48 48 0 0 0-48-48H80a48 48 0 0 0-48 48v336H16a16 16 0 0 0 0 32h448a16 16 0 0 0 0-32ZM64 416V80a16 16 0 0 1 16-16h352a16 16 0 0 1 16 16v336Zm96-80 64-80 48 64 64-80 80 96H160Zm48-144a40 40 0 1 1-40-40 40 40 0 0 1 40 40Zm368-96v304a16 16 0 0 1-16 16h-16v-32h16V96H496V64h16a16 16 0 0 1 16 16Z"
      />
    </symbol>
    <symbol id="icon-user" viewBox="0 0 448 512">
      <path
        fill="currentColor"
        d="M224 256A128 128 0 1 0 96 128a128 128 0 0 0 128 128Zm89.6 32h-11.7a174.64 174.64 0 0 1-155.8 0h-11.7A134.4 134.4 0 0 0 0 422.4 57.6 57.6 0 0 0 57.6 480h332.8A57.6 57.6 0 0 0 448 422.4 134.4 134.4 0 0 0 313.6 288Z"
      />
    </symbol>
    <symbol id="icon-gamepad" viewBox="0 0 640 512">
      <path
        fill="currentColor"
        d="M480.1 96h-320C71.63 96 0 167.6 0 256s71.63 160 160 160c53.85 0 101.5-26.73 130.6-67.67h58.78C378.5 389.3 426.1 416 480 416c88.38 0 160-71.63 160-160S568.5 96 480.1 96zM224 288h-48v48h-32v-48H96v-32h48v-48h32v48h48v32zm208 32c-17.67 0-32-14.33-32-32 0-17.7 14.3-32 32-32s32 14.3 32 32c0 17.7-14.3 32-32 32zm64-96c-17.67 0-32-14.33-32-32 0-17.7 14.3-32 32-32s32 14.3 32 32c0 17.7-14.3 32-32 32z"
      />
    </symbol>
    <symbol id="icon-joystick" viewBox="0 0 448 512">
      <path
        fill="currentColor"
        d="M416 240c0-44.11-35.89-80-80-80h-32V96c0-53.02-42.98-96-96-96s-96 42.98-96 96v64H80c-44.11 0-80 35.89-80 80v144c0 26.51 21.49 48 48 48h320c26.51 0 48-21.49 48-48V240zM144 96c0-35.29 28.71-64 64-64s64 28.71 64 64v64H144V96zm240 288H64V240c0-26.47 21.53-48 48-48h224c26.47 0 48 21.53 48 48v144zm-96-80c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"
      />
    </symbol>
    <symbol id="icon-cloud-sun" viewBox="0 0 640 512">
      <path
        fill="currentColor"
        d="M575.2 325.7c.2-1.9.8-3.7.8-5.6 0-61.9-50.1-112-112-112-16.7 0-32.9 3.6-48 10.8C394.8 138.6 332.9 96 261.4 96 161.2 96 80.1 177.1 80.1 277.4c0 11.5 1.1 22.7 3.1 33.5-39.1 21.1-63.1 62.2-63.1 108.1 0 68.1 55.2 123.3 123.3 123.3h368c57.4 0 104-46.6 104-104 0-40.8-23.6-76.1-58-93.3zM511.7 480H143.3c-45.3 0-82.3-37-82.3-82.3 0-33.6 20.4-64.4 51.6-77.5l23.1-9.7-4.1-24.2c-1.4-8.1-2.1-16.3-2.1-24.9 0-78.5 63.8-142.4 142.4-142.4 50.6 0 97.1 26.9 122.5 70.2l11.7 19.9 22.9-5.2c11.2-2.5 22.6-3.8 33.9-3.8 40.1 0 72 31.9 72 72 0 1.7-.1 3.5-.2 5.2l-2.3 21.4 19.3 9.1c26.7 12.6 43.9 39.4 43.9 68.4 0 35.6-29 64.6-64.6 64.6z"
      />
    </symbol>
  </defs>
</svg>
<header class="site-header">
  <!-- Logo -->
  <a href="/index.html" class="site-logo-link">
    <span class="site-logo__container">
      <span class="site-logo elegant-logo" id="site-title"
        ><span class="visually-hidden">Startseite</span></span
      >
      <span class="site-subtitle" id="site-subtitle"></span>
    </span>
  </a>

  <!-- Hamburger-Button -->
  <button
    type="button"
    class="site-menu__toggle"
    aria-label="Men√º"
    aria-controls="site-menu"
    aria-expanded="false"
  >
    <span class="site-menu__hamburger"></span>
  </button>

  <!-- Navigation mit Rolle und aria-label -->
  <nav id="site-menu" class="site-menu" aria-label="Hauptnavigation">
    <ul class="site-menu__list">
      <li>
        <a href="/index.html">
          <svg class="nav-icon" aria-hidden="true">
            <use href="#icon-house"></use>
          </svg>
          <span class="icon-fallback" style="display: none">üè†</span>
          <span>Startseite</span>
        </a>
      </li>
      <li>
        <a href="/pages/card/karten.html">
          <svg class="nav-icon" aria-hidden="true">
            <use href="#icon-images"></use>
          </svg>
          <span class="icon-fallback" style="display: none">üñºÔ∏è</span>
          <span>Projekte</span>
        </a>
      </li>
      <li>
        <a href="/pages/ueber-mich/">
          <svg class="nav-icon" aria-hidden="true">
            <use href="#icon-user"></use>
          </svg>
          <span class="icon-fallback" style="display: none">üë§</span>
          <span>√úber mich</span>
        </a>
      </li>
      <li class="has-submenu">
        <button
          type="button"
          class="submenu-toggle"
          aria-haspopup="true"
          aria-expanded="false"
        >
          <svg class="nav-icon" aria-hidden="true">
            <use href="#icon-gamepad"></use>
          </svg>
          <span class="icon-fallback" style="display: none">üéÆ</span>
          <span>Spiele</span>
        </button>
        <ul class="submenu">
          <li>
            <a href="/pages/spiele/space-defender.html">
              <svg class="nav-icon" aria-hidden="true">
                <use href="#icon-joystick"></use>
              </svg>
              <span class="icon-fallback" style="display: none">üïπÔ∏è</span>
              <span>Spiele-√úbersicht</span>
            </a>
          </li>
          <li>
            <a href="/pages/card/wetter.html">
              <svg class="nav-icon" aria-hidden="true">
                <use href="#icon-cloud-sun"></use>
              </svg>
              <span class="icon-fallback" style="display: none">‚õÖ</span>
              <span>Wetter</span>
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>
</header>

<script>
  <script>
  // Dynamic Menu Icon System - Production Ready
  document.addEventListener('DOMContentLoaded', function() {
    // √úberpr√ºfe SVG Icon Support
    const checkIcons = () => {
      const icons = document.querySelectorAll('.nav-icon use');
      let brokenIcons = 0;

      icons.forEach(use => {
        const href = use.getAttribute('href');
        if (!href) return;

        const targetId = href.substring(1);
        const target = document.getElementById(targetId);
        const svg = use.closest('svg');
        const fallback = svg?.nextElementSibling;

        // Aktiviere Emoji-Fallback wenn SVG Symbol fehlt
        if (!target && fallback?.classList.contains('icon-fallback')) {
          svg.style.display = 'none';
          fallback.style.display = 'inline-block';
          brokenIcons++;
        }
    checkIcons();
    setupSubmenuPositioning();

    // Fallback f√ºr dynamische Inhalte
    setTimeout(() => {
      checkIcons();
      setupSubmenuPositioning();
    }, 200);
  });
</script>
