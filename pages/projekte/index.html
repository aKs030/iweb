<!doctype html>
<html lang="de">
  <head>
          <script>
            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push({
              'ga4_measurement_id': 'G-757KWG0PG4',
              'ads_conversion_id': 'AW-1036079663'
            });
          </script>
          <!-- Google Tag Manager -->
          <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-5F5ZSTTL');</script>
          <!-- End Google Tag Manager -->
      <meta name="mobile-web-app-capable" content="yes" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

    <!-- SHARED_HEAD: Lädt Meta-Tags, CSS (root, menu, footer) und main.js global -->
    <!-- Server-side favicons for crawlers and browsers -->
    <link rel="icon" href="https://abdulkerimsesli.de/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="https://abdulkerimsesli.de/content/assets/img/icons/icon-32.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="https://abdulkerimsesli.de/content/assets/img/icons/icon-192.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="https://abdulkerimsesli.de/content/assets/img/icons/icon-192.png" />
    <meta name="theme-color" content="#000000" />
    <title>Referenzen & Code-Projekte | Abdulkerim Sesli</title>
    <meta
      name="description"
      content="Entdecke interaktive Web-Experimente und Business-Anwendungen. Spezialisiert auf performante React-Lösungen, 3D-Web (Three.js) und modernes UI/UX Design." />
    <script src="/content/components/head/head-complete.js" type="module"></script>
    <script type="module" src="/content/components/head/head-inline.js"></script>

    <!-- React Dependencies (Production Version für bessere Performance) -->
    <!-- Load React & ReactDOM from jsDelivr (allowed by CSP in content/head/head.html) -->
    <script crossorigin src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Page Specific Styles -->
    <link rel="stylesheet" href="projekte.css" />

    <!-- Server-side JSON-LD: Project ItemList + individual CreativeWork entries for SEO -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "BreadcrumbList",
            "name": "Projekte",
            "itemListElement": [
              {
                "@type": "ListItem",
                "position": 1,
                "name": "Startseite",
                "item": {"@id": "https://abdulkerimsesli.de/", "name": "Startseite"}
              },
              {
                "@type": "ListItem",
                "position": 2,
                "name": "Projekte",
                "item": {"@id": "https://abdulkerimsesli.de/projekte/", "name": "Projekte"}
              }
            ]
          },
          {
            "@type": "WebPage",
            "url": "https://abdulkerimsesli.de/projekte/",
            "name": "Projekte — Abdulkerim Sesli",
            "mainEntity": {"@type": "ItemList", "@id": "https://abdulkerimsesli.de/projekte/#projects-list"}
          },
          {
            "@type": "ItemList",
            "name": "Projekte von Abdulkerim Sesli",
            "itemListElement": [
              {"@type": "ListItem", "position": 1, "url": "https://abdulkerimsesli.de/projekte/#project-1", "name": "Schere Stein Papier"},
              {"@type": "ListItem", "position": 2, "url": "https://abdulkerimsesli.de/projekte/#project-2", "name": "Zahlen Raten"},
              {"@type": "ListItem", "position": 3, "url": "https://abdulkerimsesli.de/projekte/#project-3", "name": "Color Changer"},
              {"@type": "ListItem", "position": 4, "url": "https://abdulkerimsesli.de/projekte/#project-4", "name": "To-Do Liste"}
            ]
          },

          {
            "@type": "CreativeWork",
            "name": "Schere Stein Papier",
            "description": "Der Klassiker gegen den Computer!",
            "url": "https://abdulkerimsesli.de/projekte/#project-1",
            "datePublished": "2023-07-05",
            "image": "https://abdulkerimsesli.de/content/assets/img/og/og-projekte.png",
            "author": {"@type": "Person", "name": "Abdulkerim Sesli"},
            "keywords": "JavaScript, Game Logic",
            "about": "Game"
          },
          {
            "@type": "CreativeWork",
            "name": "Zahlen Raten",
            "description": "Finde die geheime Zahl zwischen 1 und 100.",
            "url": "https://abdulkerimsesli.de/projekte/#project-2",
            "datePublished": "2024-08-01",
            "image": "https://abdulkerimsesli.de/content/assets/img/og/og-projekte.png",
            "author": {"@type": "Person", "name": "Abdulkerim Sesli"},
            "keywords": "Logic, Input",
            "about": "Puzzle"
          },
          {
            "@type": "CreativeWork",
            "name": "Color Changer",
            "description": "Dynamische Hintergrundfarben per Klick.",
            "url": "https://abdulkerimsesli.de/projekte/#project-3",
            "datePublished": "2022-03-15",
            "image": "https://abdulkerimsesli.de/content/assets/img/og/og-projekte.png",
            "author": {"@type": "Person", "name": "Abdulkerim Sesli"},
            "keywords": "DOM, Events",
            "about": "UI"
          },
          {
            "@type": "CreativeWork",
            "name": "To-Do Liste",
            "description": "Produktivitäts-Tool zum Verwalten von Aufgaben.",
            "url": "https://abdulkerimsesli.de/projekte/#project-4",
            "datePublished": "2021-11-05",
            "image": "https://abdulkerimsesli.de/content/assets/img/og/og-projekte.png",
            "author": {"@type": "Person", "name": "Abdulkerim Sesli"},
            "keywords": "CRUD, Arrays",
            "about": "App"
          }
        ]
      }
    </script>
  </head>
  <body>
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5F5ZSTTL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
      <!-- End Google Tag Manager (noscript) -->
    <!-- 3D ERDE -->
    <div id="threeEarthContainer" class="three-earth-container" data-section="hero">
      <div class="three-earth-error hidden"><p>WebGL Fehler</p></div>
    </div>

    <!-- Orbs behind everything -->
    <div class="bg-orb orb-1"></div>
    <div class="bg-orb orb-2"></div>

    <!-- REACT ROOT (Main Content) -->
    <div id="root"></div>

    <!-- Logic Script -->
    <script type="module">
      import {initProjectsApp} from './projekte-app.js'
      import {createLogger} from '/content/utils/shared-utilities.js'
      const log = createLogger('ProjektePage')

      // Load styles for Three Earth (Progressive Enhancement)
      async function ensureThreeEarthStyles() {
        const href = '/content/components/particles/three-earth.css'
        if (document.querySelector(`link[href="${href}"]`)) return Promise.resolve()
        return new Promise((resolve, reject) => {
          const link = document.createElement('link')
          link.rel = 'stylesheet'
          link.href = href
          link.media = 'print'
          link.onload = () => {
            try {
              link.media = 'all'
              resolve()
            } catch (e) {
              resolve()
            }
          }
          link.onerror = e => reject(e)
          document.head.appendChild(link)
        })
      }

      window.addEventListener('DOMContentLoaded', async () => {
        // 1. React App starten
        initProjectsApp()

        // Lazy-load Three-Earth only when needed: on visibility or user interaction
        const threeContainer = document.getElementById('threeEarthContainer')

        const loadThreeEarth = async () => {
          if (window.__threeEarthLoaded) return
          window.__threeEarthLoaded = true
          try {
            const mod = await import('/content/components/particles/three-earth-system.js')

            // Allow module to expose API and adjust presets before init
            try {
              const config = mod?.EarthSystemAPI?.getConfig?.()
              const basePreset = config?.CAMERA?.PRESETS?.features || config?.CAMERA?.PRESETS?.hero
              if (basePreset) {
                const baseRadius = Math.sqrt((basePreset.x || 0) ** 2 + (basePreset.z || 0) ** 2) || 12
                for (let i = 1; i <= 10; i++) {
                  const angle = i * 0.8
                  config.CAMERA.PRESETS[`project-${i}`] = {
                    ...basePreset,
                    x: Math.sin(angle) * baseRadius,
                    z: Math.cos(angle) * baseRadius,
                    y: Math.max(2, (basePreset.y || 5) + Math.sin(i * 1.5) * 3),
                    lookAt: basePreset.lookAt
                  }
                }
              }
            } catch (err) {
              log.warn('Konnte Projekt-Presets nicht automatisch setzen', err)
            }

            try {
              await ensureThreeEarthStyles()
            } catch (e) {
              log.warn('three-earth stylesheet preload failed', e)
            }

            try {
              mod.initThreeEarth()
            } catch (e) {
              log.warn('three-earth init failed', e)
            }
          } catch (e) {
            log.warn('Failed to import three-earth module', e)
          }
        }

        // If IntersectionObserver is available, init when container gets close to viewport
        if ('IntersectionObserver' in window && threeContainer) {
          const io = new IntersectionObserver(
            (entries, obs) => {
              for (const entry of entries) {
                if (entry.isIntersecting) {
                  loadThreeEarth()
                  obs.disconnect()
                  break
                }
              }
            },
            {root: null, rootMargin: '200px', threshold: 0.05}
          )
          io.observe(threeContainer)
        } else {
          // Fallback: load after a short idle period
          setTimeout(loadThreeEarth, 3000)
        }

        // Also trigger on first user interaction to prioritise UX
        const userTrigger = () => {
          loadThreeEarth()
          window.removeEventListener('scroll', userTrigger)
          window.removeEventListener('touchstart', userTrigger)
          window.removeEventListener('pointerdown', userTrigger)
        }
        window.addEventListener('scroll', userTrigger, {passive: true})
        window.addEventListener('touchstart', userTrigger, {passive: true})
        window.addEventListener('pointerdown', userTrigger, {passive: true})
      })
    </script>
  </body>
</html>
