name = "1web"
compatibility_date = "2024-01-01"

# Pages-spezifische Konfiguration
pages_build_output_dir = "dist"

# Node.js Version für Build
[build]
command = "npm run build"

# R2 Bucket für Gallery
[[r2_buckets]]
binding = "GALLERY_BUCKET"
bucket_name = "img"

# Vectorize Binding (für direkten Zugriff auf Vector Index)
[[vectorize]]
binding = "VECTOR_INDEX"
index_name = "ai-search-suche"

# Service Binding (für AI Search Worker)
[[services]]
binding = "AI_SEARCH"
service = "ai-search-proxy"

# Workers AI Binding
[ai]
binding = "AI"

# Umgebungsvariablen für Production
[env.production]
vars = { AI_SEARCH_INDEX = "ai-search-suche", RAG_ID = "suche", MAX_SEARCH_RESULTS = "10" }

# Umgebungsvariablen für Preview
[env.preview]
vars = { AI_SEARCH_INDEX = "ai-search-suche", RAG_ID = "suche", MAX_SEARCH_RESULTS = "10" }
