#:schema node_modules/wrangler/config-schema.json
name = "ai-search-proxy"
main = "workers/throbbing-mode-6fe1-nlweb/index.js"
compatibility_date = "2025-01-23"
compatibility_flags = ["nodejs_compat"]

routes = [
  { pattern = "www.abdulkerimsesli.de/api/search", zone_name = "abdulkerimsesli.de" },
  { pattern = "abdulkerimsesli.de/api/search", zone_name = "abdulkerimsesli.de" },
  { pattern = "www.abdulkerimsesli.de/api/gemini", zone_name = "abdulkerimsesli.de" },
  { pattern = "abdulkerimsesli.de/api/gemini", zone_name = "abdulkerimsesli.de" }
]

[vars]
RAG_ID = "throbbing-mode-6fe1"

[triggers]
crons = ["0 3 * * *"]

# Deploy: wrangler deploy --env=""
# Secrets: wrangler secret put GEMINI_API_KEY --env=""

[env.youtube]
name = "youtube-api-proxy"
main = "workers/youtube-api-proxy/index.js"
compatibility_date = "2025-01-23"
routes = [
  { pattern = "www.abdulkerimsesli.de/api/youtube/*", zone_name = "abdulkerimsesli.de" },
  { pattern = "abdulkerimsesli.de/api/youtube/*", zone_name = "abdulkerimsesli.de" }
]

# Deploy: wrangler deploy --env youtube
# Secrets: wrangler secret put YOUTUBE_API_KEY --env youtube